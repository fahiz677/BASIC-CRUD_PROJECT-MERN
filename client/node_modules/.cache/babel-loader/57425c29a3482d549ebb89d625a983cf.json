{"ast":null,"code":"var _jsxFileName = \"/home/fahiz/Brocamp Works/BASIC-CRUD_PROJECT-MERN/client/src/components/Header/Header.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link, Toolbar, Avatar, Typography } from \"react-router-dom\";\nimport { Button } from \"@material-ui/core\";\nimport \"./Header.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  var _localStorage;\n\n  // const cartList = useSelector((state) => state.products.products);\n  // const totalCartCount = cartList.reduce((acc, value) => (acc += value.count), 0);\n  const totalCartCount = 0;\n  const [user, setUser] = useState(JSON === null || JSON === void 0 ? void 0 : JSON.parse((_localStorage = localStorage) === null || _localStorage === void 0 ? void 0 : _localStorage.getItem('user')));\n  const Location = useLocation();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  useEffect(() => {\n    var _localStorage2;\n\n    const token = user === null || user === void 0 ? void 0 : user.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON === null || JSON === void 0 ? void 0 : JSON.parse((_localStorage2 = localStorage) === null || _localStorage2 === void 0 ? void 0 : _localStorage2.getItem('user')));\n  }, [Location]);\n\n  const onlogout = () => {\n    dispatch(logout());\n    dispatch(reset());\n    setUser(null);\n    toast.error(\"User LogOut\");\n    navigate('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"E-Shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-count-header\",\n          children: totalCartCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"32\",\n          height: \"32\",\n          viewBox: \"0 0 16 16\",\n          cursor: \"pointer\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M15.32 2.405H4.887C3 2.405 2.46.805 2.46.805L2.257.21C2.208.085 2.083 0 1.946 0H.336C.1 0-.064.24.024.46l.644 1.945L3.11 9.767c.047.137.175.23.32.23h8.418l-.493 1.958H3.768l.002.003c-.017 0-.033-.003-.05-.003-1.06 0-1.92.86-1.92 1.92s.86 1.92 1.92 1.92c.99 0 1.805-.75 1.91-1.712l5.55.076c.12.922.91 1.636 1.867 1.636 1.04 0 1.885-.844 1.885-1.885 0-.866-.584-1.593-1.38-1.814l2.423-8.832c.12-.433-.206-.86-.655-.86\",\n            fill: \"#fff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n        className: classes.toolbar,\n        children: user !== null && user !== void 0 && user.result ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.profile,\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            className: classes.purple,\n            alt: user === null || user === void 0 ? void 0 : user.result.name,\n            src: user === null || user === void 0 ? void 0 : user.result.picture,\n            children: user === null || user === void 0 ? void 0 : user.result.name.charAt(0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.userName,\n            variant: \"h6\",\n            children: user === null || user === void 0 ? void 0 : user.result.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            className: classes.logout,\n            color: \"secondary\",\n            onClick: onlogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          component: Link,\n          to: \"/auth\",\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Header, \"l/HSy1LfoTLbX+Jy+Ela3/qT8xQ=\", true);\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useSelector","Link","Toolbar","Avatar","Typography","Button","Header","totalCartCount","user","setUser","useState","JSON","parse","localStorage","getItem","Location","useLocation","navigate","useNavigate","dispatch","useDispatch","classes","useStyles","useEffect","token","decodedToken","decode","exp","Date","getTime","logout","onlogout","reset","toast","error","toolbar","result","profile","purple","name","picture","charAt","userName"],"sources":["/home/fahiz/Brocamp Works/BASIC-CRUD_PROJECT-MERN/client/src/components/Header/Header.js"],"sourcesContent":["import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport  {Link, Toolbar , Avatar ,Typography} from \"react-router-dom\";\nimport { Button } from \"@material-ui/core\";\nimport \"./Header.css\";\n\nconst Header = () => {\n   // const cartList = useSelector((state) => state.products.products);\n\n   // const totalCartCount = cartList.reduce((acc, value) => (acc += value.count), 0);\nconst totalCartCount = 0;\n\n\n \nconst [user, setUser] = useState(JSON?.parse(localStorage?.getItem('user')));\nconst Location = useLocation();\nconst navigate = useNavigate();\nconst dispatch = useDispatch();\nconst classes = useStyles();\n\nuseEffect(() => {\n  const token = user?.token;\n\n  if (token) {\n    const decodedToken = decode(token);\n\n    if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n  }\n \n  setUser(JSON?.parse(localStorage?.getItem('user')) );\n\n}, [Location]);\n\n\nconst onlogout = () => {\n  dispatch(logout());\n  \n  dispatch(reset())\n\n  setUser(null);\n toast.error(\"User LogOut\")\n  navigate('/')\n\n};\n\n   return (\n      <header>\n         <div className=\"container\">\n            <h1>E-Shop</h1>\n\n            <div className=\"right-section\">\n               <div className=\"cart-count-header\">{totalCartCount}</div>\n               <svg width=\"32\" height=\"32\" viewBox=\"0 0 16 16\" cursor=\"pointer\">\n                  <path\n                     d=\"M15.32 2.405H4.887C3 2.405 2.46.805 2.46.805L2.257.21C2.208.085 2.083 0 1.946 0H.336C.1 0-.064.24.024.46l.644 1.945L3.11 9.767c.047.137.175.23.32.23h8.418l-.493 1.958H3.768l.002.003c-.017 0-.033-.003-.05-.003-1.06 0-1.92.86-1.92 1.92s.86 1.92 1.92 1.92c.99 0 1.805-.75 1.91-1.712l5.55.076c.12.922.91 1.636 1.867 1.636 1.04 0 1.885-.844 1.885-1.885 0-.866-.584-1.593-1.38-1.814l2.423-8.832c.12-.433-.206-.86-.655-.86\"\n                     fill=\"#fff\"\n                  ></path>\n               </svg>\n            </div>\n\n            <Toolbar className={classes.toolbar}>\n        {user?.result ? (\n          <div className={classes.profile}>\n            <Avatar className={classes.purple} alt={user?.result.name} src={user?.result.picture}>{user?.result.name.charAt(0)}</Avatar>\n            <Typography className={classes.userName} variant=\"h6\">{user?.result.name}</Typography>\n            <Button variant=\"contained\" className={classes.logout} color=\"secondary\" onClick={onlogout}>Logout</Button>\n          </div>\n        ) : (\n          <Button component={Link} to=\"/auth\" variant=\"contained\" color=\"primary\">Sign In</Button>\n        )}\n      </Toolbar>\n         </div>\n      </header>\n   );\n};\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}