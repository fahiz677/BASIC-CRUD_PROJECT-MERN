{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport productServices from \"./productServices\";\nconst initialState = {\n  products: [],\n  isError: false,\n  isSuccess: false,\n  isLoading: false,\n  message: ''\n}; // Get user products\n\nexport const fetchProducts = createAsyncThunk('posts/fetchProducts', async (_, thunkAPI) => {\n  try {\n    const {\n      data\n    } = await productServices.fetchProducts();\n    console.log(data);\n    return data;\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const productSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    reset: state => initialState\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchProducts.pending, state => {\n      state.isLoading = true;\n    }).addCase(fetchProducts.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.products = [...state.products, action.payload];\n      console.log(\"state\", action.payload);\n    }).addCase(fetchProducts.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    });\n  }\n});\nexport const selectAllPosts = state => state.products.products;\nexport const {\n  reset\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","productServices","initialState","products","isError","isSuccess","isLoading","message","fetchProducts","_","thunkAPI","data","console","log","error","response","toString","rejectWithValue","productSlice","name","reducers","reset","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","selectAllPosts","actions","reducer"],"sources":["/home/fahiz/Brocamp Works/BASIC-CRUD_PROJECT-MERN/client/src/features/products/productSlice.js"],"sourcesContent":["import { createSlice , createAsyncThunk } from \"@reduxjs/toolkit\";\nimport  productServices from \"./productServices\";\n\n\nconst initialState = {\n    products: [],\n    isError: false,\n    isSuccess: false,\n    isLoading: false,\n    message: '',\n  }\n\n   // Get user products\n export const fetchProducts = createAsyncThunk(\n    'posts/fetchProducts',\n    async (_, thunkAPI) => {\n      try {\n        const { data } =await productServices.fetchProducts()\n        console.log(data);\n        return  data;\n      } catch (error) {\n        const message =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString()\n        return thunkAPI.rejectWithValue(message)\n      }\n    }\n  )\n\n\n  export const productSlice = createSlice({\n    name: 'products',\n    initialState,\n    reducers: {\n      reset: (state) => initialState,\n    },\n    extraReducers: (builder) => {\n      builder\n      .addCase(fetchProducts.pending, (state) => {\n        state.isLoading = true\n        })\n      .addCase(fetchProducts.fulfilled, (state, action) => {\n        state.isLoading = false\n        state.isSuccess = true\n        state.products = [...state.products,action.payload]\n        console.log(\"state\",action.payload);\n      })\n      .addCase(fetchProducts.rejected, (state, action) => {\n        state.isLoading = false\n        state.isError = true\n        state.message = action.payload\n        })\n        \n    },\n  })\n\n\nexport const selectAllPosts = (state) => state.products.products;\n\n\nexport const { reset } = productSlice.actions;\n\nexport default productSlice.reducer;\n\n  \n"],"mappings":"AAAA,SAASA,WAAT,EAAuBC,gBAAvB,QAA+C,kBAA/C;AACA,OAAQC,eAAR,MAA6B,mBAA7B;AAGA,MAAMC,YAAY,GAAG;EACjBC,QAAQ,EAAE,EADO;EAEjBC,OAAO,EAAE,KAFQ;EAGjBC,SAAS,EAAE,KAHM;EAIjBC,SAAS,EAAE,KAJM;EAKjBC,OAAO,EAAE;AALQ,CAArB,C,CAQG;;AACF,OAAO,MAAMC,aAAa,GAAGR,gBAAgB,CAC1C,qBAD0C,EAE1C,OAAOS,CAAP,EAAUC,QAAV,KAAuB;EACrB,IAAI;IACF,MAAM;MAAEC;IAAF,IAAU,MAAMV,eAAe,CAACO,aAAhB,EAAtB;IACAI,OAAO,CAACC,GAAR,CAAYF,IAAZ;IACA,OAAQA,IAAR;EACD,CAJD,CAIE,OAAOG,KAAP,EAAc;IACd,MAAMP,OAAO,GACVO,KAAK,CAACC,QAAN,IACCD,KAAK,CAACC,QAAN,CAAeJ,IADhB,IAECG,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBJ,OAFtB,IAGAO,KAAK,CAACP,OAHN,IAIAO,KAAK,CAACE,QAAN,EALF;IAMA,OAAON,QAAQ,CAACO,eAAT,CAAyBV,OAAzB,CAAP;EACD;AACF,CAhByC,CAAtC;AAoBN,OAAO,MAAMW,YAAY,GAAGnB,WAAW,CAAC;EACtCoB,IAAI,EAAE,UADgC;EAEtCjB,YAFsC;EAGtCkB,QAAQ,EAAE;IACRC,KAAK,EAAGC,KAAD,IAAWpB;EADV,CAH4B;EAMtCqB,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CACNC,OADD,CACSjB,aAAa,CAACkB,OADvB,EACiCJ,KAAD,IAAW;MACzCA,KAAK,CAAChB,SAAN,GAAkB,IAAlB;IACC,CAHH,EAICmB,OAJD,CAISjB,aAAa,CAACmB,SAJvB,EAIkC,CAACL,KAAD,EAAQM,MAAR,KAAmB;MACnDN,KAAK,CAAChB,SAAN,GAAkB,KAAlB;MACAgB,KAAK,CAACjB,SAAN,GAAkB,IAAlB;MACAiB,KAAK,CAACnB,QAAN,GAAiB,CAAC,GAAGmB,KAAK,CAACnB,QAAV,EAAmByB,MAAM,CAACC,OAA1B,CAAjB;MACAjB,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBe,MAAM,CAACC,OAA3B;IACD,CATD,EAUCJ,OAVD,CAUSjB,aAAa,CAACsB,QAVvB,EAUiC,CAACR,KAAD,EAAQM,MAAR,KAAmB;MAClDN,KAAK,CAAChB,SAAN,GAAkB,KAAlB;MACAgB,KAAK,CAAClB,OAAN,GAAgB,IAAhB;MACAkB,KAAK,CAACf,OAAN,GAAgBqB,MAAM,CAACC,OAAvB;IACC,CAdH;EAgBD;AAvBqC,CAAD,CAAhC;AA2BT,OAAO,MAAME,cAAc,GAAIT,KAAD,IAAWA,KAAK,CAACnB,QAAN,CAAeA,QAAjD;AAGP,OAAO,MAAM;EAAEkB;AAAF,IAAYH,YAAY,CAACc,OAA/B;AAEP,eAAed,YAAY,CAACe,OAA5B"},"metadata":{},"sourceType":"module"}